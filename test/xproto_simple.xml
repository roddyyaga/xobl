<?xml version="1.0" encoding="utf-8"?>
<xcb header="xproto">
  <xidtype name="WINDOW" />
  <xidtype name="PIXMAP" />
  <xidtype name="CURSOR" />
  <xidtype name="COLORMAP" />
  <typedef oldname="CARD32" newname="BOOL32" />
  <typedef oldname="CARD32" newname="VISUALID" />
  <typedef oldname="CARD8" newname="KEYCODE" />

  <struct name="FORMAT">
    <field type="CARD8" name="depth" />
    <field type="CARD8" name="bits_per_pixel" />
    <field type="CARD8" name="scanline_pad" />
    <pad bytes="5" />
  </struct>

  <enum name="VisualClass">
    <item name="StaticGray"> <value>0</value></item>
    <item name="GrayScale">  <value>1</value></item>
    <item name="StaticColor"><value>2</value></item>
    <item name="PseudoColor"><value>3</value></item>
    <item name="TrueColor">  <value>4</value></item>
    <item name="DirectColor"><value>5</value></item>
  </enum>

  <struct name="VISUALTYPE">
    <field type="VISUALID" name="visual_id" />
    <field type="CARD8" name="class" enum="VisualClass" />
    <field type="CARD8" name="bits_per_rgb_value" />
    <field type="CARD16" name="colormap_entries" />
    <field type="CARD32" name="red_mask" />
    <field type="CARD32" name="green_mask" />
    <field type="CARD32" name="blue_mask" />
    <pad bytes="4" />
  </struct>

  <struct name="DEPTH">
    <field type="CARD8" name="depth" />
    <pad bytes="1" />
    <field type="CARD16" name="visuals_len" />
    <pad bytes="4" />
    <list type="VISUALTYPE" name="visuals">
      <fieldref>visuals_len</fieldref>
    </list>
  </struct>

  <enum name="EventMask">
    <item name="NoEvent">           <value>0</value></item>
    <item name="KeyPress">            <bit>0</bit></item>
    <item name="KeyRelease">          <bit>1</bit></item>
    <item name="ButtonPress">         <bit>2</bit></item>
    <item name="ButtonRelease">       <bit>3</bit></item>
    <item name="EnterWindow">         <bit>4</bit></item>
    <item name="LeaveWindow">         <bit>5</bit></item>
    <item name="PointerMotion">       <bit>6</bit></item>
    <item name="PointerMotionHint">   <bit>7</bit></item>
    <item name="Button1Motion">       <bit>8</bit></item>
    <item name="Button2Motion">       <bit>9</bit></item>
    <item name="Button3Motion">       <bit>10</bit></item>
    <item name="Button4Motion">       <bit>11</bit></item>
    <item name="Button5Motion">       <bit>12</bit></item>
    <item name="ButtonMotion">        <bit>13</bit></item>
    <item name="KeymapState">         <bit>14</bit></item>
    <item name="Exposure">            <bit>15</bit></item>
    <item name="VisibilityChange">    <bit>16</bit></item>
    <item name="StructureNotify">     <bit>17</bit></item>
    <item name="ResizeRedirect">      <bit>18</bit></item>
    <item name="SubstructureNotify">  <bit>19</bit></item>
    <item name="SubstructureRedirect"><bit>20</bit></item>
    <item name="FocusChange">         <bit>21</bit></item>
    <item name="PropertyChange">      <bit>22</bit></item>
    <item name="ColorMapChange">      <bit>23</bit></item>
    <item name="OwnerGrabButton">     <bit>24</bit></item>
  </enum>

  <enum name="BackingStore">
    <item name="NotUseful"> <value>0</value></item>
    <item name="WhenMapped"><value>1</value></item>
    <item name="Always">    <value>2</value></item>
  </enum>

  <struct name="SCREEN">
    <field type="WINDOW" name="root" />
    <field type="COLORMAP" name="default_colormap" />
    <field type="CARD32" name="white_pixel" />
    <field type="CARD32" name="black_pixel" />
    <field type="CARD32" name="current_input_masks" mask="EventMask" />
    <field type="CARD16" name="width_in_pixels" />
    <field type="CARD16" name="height_in_pixels" />
    <field type="CARD16" name="width_in_millimeters" />
    <field type="CARD16" name="height_in_millimeters" />
    <field type="CARD16" name="min_installed_maps" />
    <field type="CARD16" name="max_installed_maps" />
    <field type="VISUALID" name="root_visual" />
    <field type="BYTE" name="backing_stores" enum="BackingStore" />
    <field type="BOOL" name="save_unders" />
    <field type="CARD8" name="root_depth" />
    <field type="CARD8" name="allowed_depths_len" />
    <list type="DEPTH" name="allowed_depths">
      <fieldref>allowed_depths_len</fieldref>
    </list>
  </struct>

  <struct name="SetupFailed">
    <field type="CARD8" name="status" /> <!-- always 0 -> Failed -->
    <field type="CARD8" name="reason_len" />
    <field type="CARD16" name="protocol_major_version" />
    <field type="CARD16" name="protocol_minor_version" />
    <field type="CARD16" name="length" />
    <list type="char" name="reason">
      <fieldref>reason_len</fieldref>
    </list>
  </struct>

  <struct name="SetupAuthenticate">
    <field type="CARD8" name="status" /> <!-- always 2 -> Authenticate -->
    <pad bytes="5" />
    <field type="CARD16" name="length" />
    <list type="char" name="reason">
      <op op="*">
        <fieldref>length</fieldref>
        <value>4</value>
      </op>
    </list>
  </struct>

  <enum name="ImageOrder">
    <item name="LSBFirst"><value>0</value></item>
    <item name="MSBFirst"><value>1</value></item>
  </enum>

  <struct name="Setup">
    <field type="CARD8" name="status" /> <!-- always 1 -> Success -->
    <pad bytes="1" />
    <field type="CARD16" name="protocol_major_version" />
    <field type="CARD16" name="protocol_minor_version" />
    <field type="CARD16" name="length" />
    <field type="CARD32" name="release_number" />
    <field type="CARD32" name="resource_id_base" />
    <field type="CARD32" name="resource_id_mask" />
    <field type="CARD32" name="motion_buffer_size" />
    <field type="CARD16" name="vendor_len" />
    <field type="CARD16" name="maximum_request_length" />
    <field type="CARD8" name="roots_len" />
    <field type="CARD8" name="pixmap_formats_len" />
    <field type="CARD8" name="image_byte_order" enum="ImageOrder" />
    <field type="CARD8" name="bitmap_format_bit_order" enum="ImageOrder" />
    <field type="CARD8" name="bitmap_format_scanline_unit" />
    <field type="CARD8" name="bitmap_format_scanline_pad" />
    <field type="KEYCODE" name="min_keycode" />
    <field type="KEYCODE" name="max_keycode" />
    <pad bytes="4" />
    <list type="char" name="vendor">
      <fieldref>vendor_len</fieldref>
    </list>
    <pad align="4" />
    <list type="FORMAT" name="pixmap_formats">
      <fieldref>pixmap_formats_len</fieldref>
    </list>
    <list type="SCREEN" name="roots">
      <fieldref>roots_len</fieldref>
    </list>
  </struct>
</xcb>

